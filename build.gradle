buildscript {
	repositories {
		jcenter()
		google()
	}
	dependencies {
		classpath 'com.android.tools.build:gradle:3.6.3'
	}
}
apply plugin: 'com.android.application'

repositories {
	mavenCentral()
	jcenter()
	google()
}

android {
	useLibrary 'org.apache.http.legacy'	//Legacy swap classes that use with HttpURLConnection instead.

	compileSdkVersion 28
	buildToolsVersion '28.0.3'

	defaultConfig {
		applicationId 'jp.co.cybird.barcodekanojoForGAM'
		versionCode 1
		versionName "2.4.3"
		ndk {
			abiFilters "armeabi", "armeabi-v7a", "mips", "x86"
		}
	}
	buildTypes {
		release {
			minifyEnabled true
			shrinkResources true
		}
		debug {
			debuggable true
		}
	}

	flavorDimensions "default"
	productFlavors {
		modern {
			minSdkVersion 14
			targetSdkVersion 22
		}
		minApi9 {
			minSdkVersion 9
			targetSdkVersion 13
		}
	}

	lintOptions {
		abortOnError false
	}

	packagingOptions {
		exclude 'META-INF/DEPENDENCIES'
		exclude 'META-INF/LICENSE'
		exclude 'META-INF/LICENSE.txt'
		exclude 'META-INF/license.txt'
		exclude 'META-INF/NOTICE'
		exclude 'META-INF/NOTICE.txt'
		exclude 'META-INF/notice.txt'
		exclude 'META-INF/ASL2.0'
	}
}

dependencies {
	//Maps
	//implementation 'com.google.android.maps:maps:7_r1'
	modernImplementation 'com.google.android.gms:play-services-maps:8.4.0'
	minApi9Implementation 'com.google.android.gms:play-services-maps:8.4.0'
	//implementation 'com.google.android.maps:maps:15_r2'
	//Analytics
	//implementation files('libs/libGoogleAnalyticsV2.jar')
	//implementation 'com.google.android.gms:play-services-base:6.5.87'	//Need to migrate to Jetpack WorkManager
	//Billing
	modernImplementation 'com.android.billingclient:billing:2.0.3'
	minApi9Implementation 'com.android.billingclient:billing:2.0.3'
	//Twitter4j
	implementation 'org.twitter4j:twitter4j-core:4.0.7'
	modernImplementation 'com.facebook.android:facebook-android-sdk:3.23.1'
	minApi9Implementation 'com.facebook.android:facebook-android-sdk:3.23.1'
	//ZXing
	implementation 'com.google.zxing:core:3.2.1'
	//implementation 'com.google.zxing:android-core:3.2.1'
	//implementation 'com.google.zxing:android-integration:3.2.1'
	//Other
    implementation('org.apache.httpcomponents:httpmime:4.3.6') {
	    exclude module: 'httpclient'
	}
	implementation 'org.apache.httpcomponents:httpclient-android:4.3.5.1'
    implementation files('libs/live2d_android.jar')
}