apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'

android {
	compileSdkVersion 31

	defaultConfig {
		applicationId 'com.goujer.barcodekanojo'
		targetSdkVersion 27	//Need HTTPS before going to 28
		minSdkVersion 14
		versionCode 14000301
		versionName "0.3.1"
	}

	signingConfigs {
		release {
			storeFile file("../release.jks")
			storePassword RELEASE_STORE_PASSWORD
			keyAlias RELEASE_KEY_ALIAS
			keyPassword RELEASE_KEY_PASSWORD
		}
	}

	buildFeatures {
		viewBinding true
	}

	buildTypes {
		release {
			minifyEnabled false
			shrinkResources false
			proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
			signingConfig signingConfigs.release
		}
		prerelease {
			debuggable true
			minifyEnabled true
			shrinkResources true
			proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
			signingConfig signingConfigs.release
			applicationIdSuffix '.PRERELEASE'
			versionNameSuffix '.pr'
		}
		debug {
			debuggable true
			applicationIdSuffix '.DEBUG'
			versionNameSuffix '.d'
		}
	}
	packagingOptions {
		jniLibs {
			excludes += ['META-INF/*']
		}
		resources {
			excludes += ['META-INF/*']
		}
	}


	lint {
		abortOnError false
	}
}

dependencies {
	//AndroidX Core
	implementation "androidx.core:core-ktx:1.7.0"

	//SwipeRefreshLayout
	implementation "androidx.swiperefreshlayout:swiperefreshlayout:1.1.0"

	//LruCache
	implementation "androidx.collection:collection-ktx:1.2.0"

	//Maps
	implementation 'org.osmdroid:osmdroid-android:6.1.11'

	//Charts
	implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'

	//ZXing
	implementation 'com.google.zxing:core:3.2.1'
	//implementation 'com.google.zxing:android-core:3.2.1'
	//implementation 'com.google.zxing:android-integration:3.2.1'

	//Live2D
    implementation files('libs/live2d_android.jar')

	//Kotlin
	implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version"
	implementation "org.jetbrains.kotlinx:kotlinx-coroutines-android:1.5.2"
}